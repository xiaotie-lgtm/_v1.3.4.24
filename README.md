# 校园答题系统

一个基于 PHP + HTML 的校园答题系统，支持老师发布考试/作业，学生在线答题，自动批改和手动评分功能。

## 功能特性

### 老师端功能
- ✅ 发布考试/作业
- ✅ 添加多种题型（单选题、多选题、判断题、填空题、主观题）
- ✅ 自动批改选择题和判断题
- ✅ 手动评分其他题型
- ✅ 发布成绩供学生查询
- ✅ 查看考试详情和成绩统计

### 学生端功能
- ✅ 登录系统
- ✅ 查看可参加的考试/作业
- ✅ 在线答题
- ✅ 查询已发布的成绩

## 系统要求

- PHP 7.0 或更高版本
- MySQL 5.7 或更高版本
- Web 服务器（Apache/Nginx）
- PDO 扩展支持

## 安装步骤

### 1. 数据库配置

1. 创建数据库：
```sql
CREATE DATABASE school_exam CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

2. 导入数据库结构：
```bash
mysql -u root -p school_exam < database.sql
```

或者直接在 phpMyAdmin 中执行 `database.sql` 文件。

### 2. 配置文件

编辑 `config.php` 文件，修改数据库连接信息：

```php
define('DB_HOST', 'localhost');
define('DB_NAME', 'school_exam');
define('DB_USER', 'root');
define('DB_PASS', '你的数据库密码');
```

### 3. Web 服务器配置

将项目文件放置在 Web 服务器目录下（如 `htdocs`、`www` 等），确保 PHP 可以访问。

### 4. 访问系统

在浏览器中访问：
```
http://localhost/项目目录/login.php
```

## 默认账号

系统已预置测试账号：

**老师账号：**
- 用户名：`teacher1`
- 密码：`123456`

**学生账号：**
- 用户名：`student1`
- 密码：`123456`
- 用户名：`student2`
- 密码：`123456`

## 使用说明

### 老师端操作流程

1. **发布考试/作业**
   - 登录后点击"发布考试/作业"
   - 填写考试信息（标题、描述、时间等）
   - 添加题目，支持多种题型
   - 点击"发布"完成创建

2. **批改作业**
   - 进入"批改作业"页面
   - 点击"执行自动批改"批改选择题和判断题
   - 对其他题型进行手动评分
   - 点击"保存评分"完成批改

3. **发布成绩**
   - 批改完成后，进入"发布成绩"页面
   - 选择要发布的考试，点击"发布成绩"
   - 学生即可查询到成绩

### 学生端操作流程

1. **参加考试**
   - 登录后查看"考试/作业列表"
   - 点击"开始答题"进入答题页面
   - 完成所有题目后点击"提交答案"

2. **查询成绩**
   - 进入"查询成绩"页面
   - 查看已发布的成绩和详细得分

## 题型说明

- **单选题**：只有一个正确答案，自动批改
- **多选题**：可以有多个正确答案，用逗号分隔（如：A,B），自动批改
- **判断题**：正确/错误，自动批改
- **填空题**：需要手动评分
- **主观题**：需要手动评分

## 文件结构

```
├── config.php              # 配置文件
├── login.php               # 登录页面
├── database.sql            # 数据库结构
├── style.css               # 样式文件
├── teacher/                # 老师端
│   ├── index.php          # 主页
│   ├── create_exam.php    # 创建考试
│   ├── exam_list.php      # 考试列表
│   ├── exam_detail.php    # 考试详情
│   ├── grade_exam.php     # 批改作业
│   ├── publish_score.php  # 发布成绩
│   ├── score_list.php     # 成绩列表
│   └── logout.php         # 退出登录
└── student/                # 学生端
    ├── index.php          # 主页
    ├── exam_list.php      # 考试列表
    ├── take_exam.php      # 答题页面
    ├── view_score.php     # 查询成绩
    └── logout.php         # 退出登录
```

## 安全提示

1. 生产环境请修改默认密码
2. 建议使用 HTTPS
3. 定期备份数据库
4. 根据实际需求调整权限控制

## 技术栈

- **后端**：PHP 7.0+
- **数据库**：MySQL 5.7+
- **前端**：HTML5 + CSS3 + JavaScript
- **会话管理**：PHP Session

## 注意事项

1. 确保 PHP 已启用 `session` 扩展
2. 确保数据库支持外键约束
3. 建议在生产环境中使用密码哈希（系统已使用 `password_hash`）
4. 时间设置使用服务器时区（Asia/Shanghai）

## 常见问题

**Q: 无法连接数据库？**
A: 检查 `config.php` 中的数据库配置是否正确，确保数据库已创建。

**Q: 自动批改不工作？**
A: 确保题目类型为 `single_choice`、`multiple_choice` 或 `judge`，且已填写正确答案。

**Q: 学生无法看到考试？**
A: 检查考试状态是否为 `published`，且当前时间在开始和结束时间之间。

## 许可证

本项目仅供学习和教育使用。

